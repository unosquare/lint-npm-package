name: 'Publish WebPart NPM Package'
description: 'This action will publish a NPM package'

runs:
  using: 'composite'
  steps: 
    - run: rm ./dist/package.json
      shell: bash
    - run: mv ./dist/src/* ./dist/
      shell: bash
    - run: echo "//registry.npmjs.org/:_authToken=${{ secrets.GPR_ACCESS_TOKEN }}" > ~/.npmrc
      shell: bash
    - run: npm publish
      shell: bash
